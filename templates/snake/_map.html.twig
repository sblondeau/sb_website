<div class="infos">
	<h1>Bonus : Snake</h1>
	<h2>Score : {{ map.score }}</h2>
	<div class="">
		<button class="btn" {{ stimulus_action('game', 'startGame') }}>Start</button>
		<a class="btn btn-outline" href="{{ path('snake_reset') }}">Reset</a>
	</div>

</div>

<div id="game" data-action="keydown@document->game#move" class="game" style="--nb-cell: {{map.size}}" data-score="{{ 400 - map.score * 50 }}">
	{% for i in 0 .. map.size -1  %}
		{% for j in 0 .. map.size -1  %}
			<div>
				{% for snakeBlock in map.snake.blocks %}
					{% if snakeBlock.x == j and snakeBlock.y == i %}
						{% if snakeBlock is same as(map.snake.head) %}
							<div class="snake head {{ map.snake.direction  }}"></div>
						{% else %}
							<div class="snake position{{ snakeBlock.position }}"></div>
						{% endif %}
					{% endif %}
				{% endfor %}
				{% if map.fruit.x == j and map.fruit.y == i %}
					<div class="fruit">
						<img src="{{ asset('images/fruit.png' )}}" alt="">
					</div>
				{% endif %}
			</div>
		{% endfor %}
	{% endfor %}

</div>
